<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qanuni License Key Generator</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 50%, #1b263b 100%);
      min-height: 100vh; padding: 40px 20px;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 40px; }
    .logo {
      width: 80px; height: 80px;
      background: linear-gradient(135deg, #2d4a6f 0%, #1e3a5f 100%);
      border-radius: 20px; display: inline-flex; align-items: center; justify-content: center;
      margin-bottom: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    .logo span { font-size: 48px; font-weight: bold; color: #f59e0b; }
    h1 { color: white; font-size: 28px; margin-bottom: 8px; }
    .subtitle { color: #94a3b8; font-size: 16px; }
    .card {
      background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px;
      padding: 30px; margin-bottom: 30px;
    }
    .card-header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 24px; padding-bottom: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap; gap: 12px;
    }
    .card-title { color: white; font-size: 18px; }
    .card-actions { display: flex; gap: 8px; flex-wrap: wrap; }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 600px) { .form-grid { grid-template-columns: 1fr; } }
    .form-group { margin-bottom: 20px; }
    .form-group.full-width { grid-column: 1 / -1; }
    label { display: block; color: #cbd5e1; font-size: 14px; margin-bottom: 8px; font-weight: 500; }
    input, select {
      width: 100%; padding: 12px 16px; background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;
      color: white; font-size: 15px; transition: all 0.2s;
    }
    input:focus, select:focus { outline: none; border-color: #f59e0b; box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2); }
    input::placeholder { color: #64748b; }
    select option { background: #1e293b; color: white; }
    .btn {
      padding: 14px 28px; border: none; border-radius: 8px;
      font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s;
    }
    .btn-primary { background: #f59e0b; color: white; box-shadow: 0 4px 14px rgba(245, 158, 11, 0.4); }
    .btn-primary:hover { background: #d97706; transform: translateY(-1px); }
    .btn-secondary { background: rgba(255, 255, 255, 0.1); color: white; }
    .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
    .btn-danger { background: rgba(239, 68, 68, 0.2); color: #f87171; }
    .btn-danger:hover { background: rgba(239, 68, 68, 0.3); }
    .btn-small { padding: 8px 16px; font-size: 13px; }
    .btn-icon { padding: 8px 12px; }
    .result-box {
      background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(245, 158, 11, 0.3);
      border-radius: 8px; padding: 20px; margin-top: 24px; display: none;
    }
    .result-box.show { display: block; }
    .result-label { color: #f59e0b; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
    .result-key {
      background: rgba(0, 0, 0, 0.3); border-radius: 6px; padding: 16px;
      font-family: 'Consolas', 'Monaco', monospace; font-size: 13px;
      color: #4ade80; word-break: break-all; line-height: 1.6; margin-bottom: 16px;
    }
    .result-meta { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; padding-top: 16px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
    .meta-item { color: #94a3b8; font-size: 13px; }
    .meta-item strong { color: white; display: block; margin-top: 2px; }
    .history-table { width: 100%; border-collapse: collapse; }
    .history-table th, .history-table td { padding: 12px 16px; text-align: left; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
    .history-table th { color: #94a3b8; font-weight: 500; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; }
    .history-table td { color: white; font-size: 14px; }
    .history-table tr:hover { background: rgba(255, 255, 255, 0.05); }
    .badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: 500; }
    .badge-trial { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
    .badge-annual { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
    .badge-custom { background: rgba(168, 85, 247, 0.2); color: #c084fc; }
    .badge-active { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
    .badge-expired { background: rgba(239, 68, 68, 0.2); color: #f87171; }
    .badge-expiring { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
    .empty-state { text-align: center; padding: 40px; color: #64748b; }
    .copy-feedback { display: inline-block; margin-left: 10px; color: #4ade80; font-size: 14px; opacity: 0; transition: opacity 0.2s; }
    .copy-feedback.show { opacity: 1; }
    .warning-box { background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 8px; padding: 16px; margin-bottom: 24px; color: #fbbf24; font-size: 14px; }
    .warning-box strong { display: block; margin-bottom: 4px; }
    .info-box { background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; padding: 12px 16px; color: #60a5fa; font-size: 13px; margin-bottom: 16px; }
    .stats-bar { display: flex; gap: 24px; margin-bottom: 20px; flex-wrap: wrap; }
    .stat-item { color: #94a3b8; font-size: 14px; }
    .stat-item strong { color: white; font-size: 20px; display: block; }
    .search-box { margin-bottom: 16px; }
    .search-box input { max-width: 300px; }
    .hidden-input { display: none; }
    .table-scroll { overflow-x: auto; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo"><span>Q</span></div>
      <h1>Qanuni License Key Generator</h1>
      <p class="subtitle">Generate machine-bound license keys for your clients</p>
    </div>
    
    <div class="card">
      <div class="card-header"><h2 class="card-title">Generate New License</h2></div>
      <div class="warning-box">
        <strong>‚ö†Ô∏è Keep this tool private!</strong>
        Only use on your own computer. Never share this file with clients.
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label for="machineId">Machine ID *</label>
          <input type="text" id="machineId" placeholder="ABCD-1234-5678-90EF">
        </div>
        <div class="form-group">
          <label for="clientName">Client / Company Name *</label>
          <input type="text" id="clientName" placeholder="Law Firm LLC">
        </div>
        <div class="form-group">
          <label for="licenseType">License Type</label>
          <select id="licenseType">
            <option value="annual">Annual (365 days)</option>
            <option value="trial">Trial (14 days)</option>
            <option value="custom">Custom Duration</option>
          </select>
        </div>
        <div class="form-group">
          <label for="days">Days Until Expiry</label>
          <input type="number" id="days" value="365" min="1" max="3650">
        </div>
        <div class="form-group full-width">
          <label for="notes">Notes (optional)</label>
          <input type="text" id="notes" placeholder="e.g., Beta tester, Contact: john@example.com">
        </div>
      </div>
      <button class="btn btn-primary" onclick="generateKey()">Generate License Key</button>
      <button class="btn btn-secondary" onclick="clearForm()" style="margin-left:12px">Clear</button>
      
      <div class="result-box" id="resultBox">
        <div class="result-label">Generated License Key</div>
        <div class="result-key" id="generatedKey"></div>
        <button class="btn btn-primary btn-small" onclick="copyKey()">Copy to Clipboard</button>
        <span class="copy-feedback" id="copyFeedback">‚úì Copied!</span>
        <div class="result-meta" id="resultMeta"></div>
      </div>
    </div>
    
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">License History</h2>
        <div class="card-actions">
          <button class="btn btn-secondary btn-small btn-icon" onclick="exportHistory()" title="Export to JSON file">üì• Export</button>
          <button class="btn btn-secondary btn-small btn-icon" onclick="document.getElementById('importFile').click()" title="Import from JSON file">üì§ Import</button>
          <button class="btn btn-danger btn-small btn-icon" onclick="clearHistory()" title="Clear all history">üóëÔ∏è Clear</button>
          <input type="file" id="importFile" class="hidden-input" accept=".json" onchange="importHistory(event)">
        </div>
      </div>
      <div class="stats-bar">
        <div class="stat-item"><strong id="statTotal">0</strong> Total</div>
        <div class="stat-item"><strong id="statActive">0</strong> Active</div>
        <div class="stat-item"><strong id="statExpiring">0</strong> Expiring</div>
        <div class="stat-item"><strong id="statExpired">0</strong> Expired</div>
      </div>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search by client or machine ID..." onkeyup="filterHistory()">
      </div>
      <div class="info-box">üíæ History auto-saves in browser. Click <strong>Export</strong> to save a backup JSON file.</div>
      <div class="table-scroll">
        <div id="historyContainer"><div class="empty-state">No keys generated yet</div></div>
      </div>
    </div>
  </div>

  <script>
    // =====================================================
    // LICENSE SALT - MUST MATCH license-manager.js!
    // =====================================================
    const LICENSE_SALT = 'Qanuni-2026-MalekKallas-LegalERP-SecretKey';
    const STORAGE_KEY = 'qanuni_license_history';
    let keyHistory = [];
    
    window.onload = function() { loadHistory(); updateHistory(); };
    
    function md5(s){function rl(v,n){return(v<<n)|(v>>>(32-n));}function au(x,y){var x8=x&0x80000000,y8=y&0x80000000,x4=x&0x40000000,y4=y&0x40000000,r=(x&0x3FFFFFFF)+(y&0x3FFFFFFF);if(x4&y4)return r^0x80000000^x8^y8;if(x4|y4){if(r&0x40000000)return r^0xC0000000^x8^y8;else return r^0x40000000^x8^y8;}else return r^x8^y8;}function F(x,y,z){return(x&y)|((~x)&z);}function G(x,y,z){return(x&z)|(y&(~z));}function H(x,y,z){return x^y^z;}function I(x,y,z){return y^(x|(~z));}function FF(a,b,c,d,x,s,ac){a=au(a,au(au(F(b,c,d),x),ac));return au(rl(a,s),b);}function GG(a,b,c,d,x,s,ac){a=au(a,au(au(G(b,c,d),x),ac));return au(rl(a,s),b);}function HH(a,b,c,d,x,s,ac){a=au(a,au(au(H(b,c,d),x),ac));return au(rl(a,s),b);}function II(a,b,c,d,x,s,ac){a=au(a,au(au(I(b,c,d),x),ac));return au(rl(a,s),b);}function cwa(s){var l=s.length,n=((l+8-(l+8)%64)/64+1)*16,w=Array(n-1),p=0,c=0;while(c<l){var wc=(c-(c%4))/4;p=(c%4)*8;w[wc]=(w[wc]||0)|(s.charCodeAt(c)<<p);c++;}var wc=(c-(c%4))/4;p=(c%4)*8;w[wc]=(w[wc]||0)|(0x80<<p);w[n-2]=l<<3;w[n-1]=l>>>29;return w;}function wth(v){var h='',t;for(var i=0;i<=3;i++){t=(v>>>(i*8))&255;h+=('0'+t.toString(16)).slice(-2);}return h;}var x=cwa(s),a=0x67452301,b=0xEFCDAB89,c=0x98BADCFE,d=0x10325476;for(var k=0;k<x.length;k+=16){var AA=a,BB=b,CC=c,DD=d;a=FF(a,b,c,d,x[k+0],7,0xD76AA478);d=FF(d,a,b,c,x[k+1],12,0xE8C7B756);c=FF(c,d,a,b,x[k+2],17,0x242070DB);b=FF(b,c,d,a,x[k+3],22,0xC1BDCEEE);a=FF(a,b,c,d,x[k+4],7,0xF57C0FAF);d=FF(d,a,b,c,x[k+5],12,0x4787C62A);c=FF(c,d,a,b,x[k+6],17,0xA8304613);b=FF(b,c,d,a,x[k+7],22,0xFD469501);a=FF(a,b,c,d,x[k+8],7,0x698098D8);d=FF(d,a,b,c,x[k+9],12,0x8B44F7AF);c=FF(c,d,a,b,x[k+10],17,0xFFFF5BB1);b=FF(b,c,d,a,x[k+11],22,0x895CD7BE);a=FF(a,b,c,d,x[k+12],7,0x6B901122);d=FF(d,a,b,c,x[k+13],12,0xFD987193);c=FF(c,d,a,b,x[k+14],17,0xA679438E);b=FF(b,c,d,a,x[k+15],22,0x49B40821);a=GG(a,b,c,d,x[k+1],5,0xF61E2562);d=GG(d,a,b,c,x[k+6],9,0xC040B340);c=GG(c,d,a,b,x[k+11],14,0x265E5A51);b=GG(b,c,d,a,x[k+0],20,0xE9B6C7AA);a=GG(a,b,c,d,x[k+5],5,0xD62F105D);d=GG(d,a,b,c,x[k+10],9,0x2441453);c=GG(c,d,a,b,x[k+15],14,0xD8A1E681);b=GG(b,c,d,a,x[k+4],20,0xE7D3FBC8);a=GG(a,b,c,d,x[k+9],5,0x21E1CDE6);d=GG(d,a,b,c,x[k+14],9,0xC33707D6);c=GG(c,d,a,b,x[k+3],14,0xF4D50D87);b=GG(b,c,d,a,x[k+8],20,0x455A14ED);a=GG(a,b,c,d,x[k+13],5,0xA9E3E905);d=GG(d,a,b,c,x[k+2],9,0xFCEFA3F8);c=GG(c,d,a,b,x[k+7],14,0x676F02D9);b=GG(b,c,d,a,x[k+12],20,0x8D2A4C8A);a=HH(a,b,c,d,x[k+5],4,0xFFFA3942);d=HH(d,a,b,c,x[k+8],11,0x8771F681);c=HH(c,d,a,b,x[k+11],16,0x6D9D6122);b=HH(b,c,d,a,x[k+14],23,0xFDE5380C);a=HH(a,b,c,d,x[k+1],4,0xA4BEEA44);d=HH(d,a,b,c,x[k+4],11,0x4BDECFA9);c=HH(c,d,a,b,x[k+7],16,0xF6BB4B60);b=HH(b,c,d,a,x[k+10],23,0xBEBFBC70);a=HH(a,b,c,d,x[k+13],4,0x289B7EC6);d=HH(d,a,b,c,x[k+0],11,0xEAA127FA);c=HH(c,d,a,b,x[k+3],16,0xD4EF3085);b=HH(b,c,d,a,x[k+6],23,0x4881D05);a=HH(a,b,c,d,x[k+9],4,0xD9D4D039);d=HH(d,a,b,c,x[k+12],11,0xE6DB99E5);c=HH(c,d,a,b,x[k+15],16,0x1FA27CF8);b=HH(b,c,d,a,x[k+2],23,0xC4AC5665);a=II(a,b,c,d,x[k+0],6,0xF4292244);d=II(d,a,b,c,x[k+7],10,0x432AFF97);c=II(c,d,a,b,x[k+14],15,0xAB9423A7);b=II(b,c,d,a,x[k+5],21,0xFC93A039);a=II(a,b,c,d,x[k+12],6,0x655B59C3);d=II(d,a,b,c,x[k+3],10,0x8F0CCC92);c=II(c,d,a,b,x[k+10],15,0xFFEFF47D);b=II(b,c,d,a,x[k+1],21,0x85845DD1);a=II(a,b,c,d,x[k+8],6,0x6FA87E4F);d=II(d,a,b,c,x[k+15],10,0xFE2CE6E0);c=II(c,d,a,b,x[k+6],15,0xA3014314);b=II(b,c,d,a,x[k+13],21,0x4E0811A1);a=II(a,b,c,d,x[k+4],6,0xF7537E82);d=II(d,a,b,c,x[k+11],10,0xBD3AF235);c=II(c,d,a,b,x[k+2],15,0x2AD7D2BB);b=II(b,c,d,a,x[k+9],21,0xEB86D391);a=au(a,AA);b=au(b,BB);c=au(c,CC);d=au(d,DD);}return(wth(a)+wth(b)+wth(c)+wth(d)).toUpperCase();}
    
    function loadHistory() { try { const s = localStorage.getItem(STORAGE_KEY); if (s) keyHistory = JSON.parse(s); } catch(e) { keyHistory = []; } }
    function saveHistory() { try { localStorage.setItem(STORAGE_KEY, JSON.stringify(keyHistory)); } catch(e) {} }
    
    function getLicenseStatus(expiresAt) {
      const days = Math.ceil((new Date(expiresAt) - new Date()) / (1000 * 60 * 60 * 24));
      if (days < 0) return { status: 'expired', label: 'Expired', class: 'badge-expired' };
      if (days <= 30) return { status: 'expiring', label: days + 'd left', class: 'badge-expiring' };
      return { status: 'active', label: 'Active', class: 'badge-active' };
    }
    
    function generateKey() {
      const machineId = document.getElementById('machineId').value.trim().toUpperCase();
      const clientName = document.getElementById('clientName').value.trim();
      const licenseType = document.getElementById('licenseType').value;
      const days = parseInt(document.getElementById('days').value, 10);
      const notes = document.getElementById('notes').value.trim();
      
      if (!machineId) { alert('Please enter the Machine ID'); return; }
      if (!/^[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}$/i.test(machineId)) { alert('Invalid Machine ID format. Expected: XXXX-XXXX-XXXX-XXXX'); return; }
      if (!clientName) { alert('Please enter the Client/Company name'); return; }
      if (!days || days < 1) { alert('Please enter valid number of days'); return; }
      
      const issuedAt = new Date().toISOString();
      const expiresAt = new Date(); expiresAt.setDate(expiresAt.getDate() + days);
      const licenseData = { machineId, issuedTo: clientName, issuedAt, expiresAt: expiresAt.toISOString(), type: licenseType };
      const payload = btoa(JSON.stringify(licenseData));
      const checksum = md5(payload + LICENSE_SALT).substring(0, 8);
      const licenseKey = `QANUNI-${payload}-${checksum}`;
      
      document.getElementById('generatedKey').textContent = licenseKey;
      document.getElementById('resultMeta').innerHTML = `
        <div class="meta-item">Issued To<strong>${clientName}</strong></div>
        <div class="meta-item">Machine ID<strong>${machineId}</strong></div>
        <div class="meta-item">Type<strong>${licenseType}</strong></div>
        <div class="meta-item">Expires<strong>${expiresAt.toLocaleDateString()}</strong></div>
        <div class="meta-item">Days<strong>${days}</strong></div>`;
      document.getElementById('resultBox').classList.add('show');
      
      keyHistory.unshift({ id: Date.now(), clientName, machineId, type: licenseType, days, expiresAt: expiresAt.toISOString(), key: licenseKey, generatedAt: issuedAt, notes });
      saveHistory(); updateHistory();
    }
    
    function copyKey() {
      navigator.clipboard.writeText(document.getElementById('generatedKey').textContent).then(() => {
        const fb = document.getElementById('copyFeedback');
        fb.classList.add('show'); setTimeout(() => fb.classList.remove('show'), 2000);
      });
    }
    
    function clearForm() {
      document.getElementById('machineId').value = '';
      document.getElementById('clientName').value = '';
      document.getElementById('licenseType').value = 'annual';
      document.getElementById('days').value = '365';
      document.getElementById('notes').value = '';
      document.getElementById('resultBox').classList.remove('show');
    }
    
    function updateStats() {
      let active = 0, expiring = 0, expired = 0;
      keyHistory.forEach(item => {
        const s = getLicenseStatus(item.expiresAt);
        if (s.status === 'active') active++; else if (s.status === 'expiring') expiring++; else expired++;
      });
      document.getElementById('statTotal').textContent = keyHistory.length;
      document.getElementById('statActive').textContent = active;
      document.getElementById('statExpiring').textContent = expiring;
      document.getElementById('statExpired').textContent = expired;
    }
    
    function filterHistory() { updateHistory(document.getElementById('searchInput').value.toLowerCase()); }
    
    function updateHistory(search = '') {
      const container = document.getElementById('historyContainer');
      updateStats();
      let filtered = keyHistory;
      if (search) filtered = keyHistory.filter(i => i.clientName.toLowerCase().includes(search) || i.machineId.toLowerCase().includes(search) || (i.notes && i.notes.toLowerCase().includes(search)));
      if (filtered.length === 0) { container.innerHTML = '<div class="empty-state">' + (search ? 'No matching licenses' : 'No keys generated yet') + '</div>'; return; }
      
      let html = '<table class="history-table"><thead><tr><th>Client</th><th>Machine ID</th><th>Type</th><th>Status</th><th>Expires</th><th>Notes</th><th>Actions</th></tr></thead><tbody>';
      filtered.forEach(item => {
        const status = getLicenseStatus(item.expiresAt);
        html += `<tr><td>${item.clientName}</td><td style="font-family:monospace;font-size:12px">${item.machineId}</td><td><span class="badge badge-${item.type}">${item.type}</span></td><td><span class="badge ${status.class}">${status.label}</span></td><td>${new Date(item.expiresAt).toLocaleDateString()}</td><td style="color:#94a3b8;font-size:12px">${item.notes || '-'}</td><td><button class="btn btn-secondary btn-small" onclick="copyHistoryKey('${item.id}')">Copy</button> <button class="btn btn-danger btn-small" onclick="deleteKey('${item.id}')">√ó</button></td></tr>`;
      });
      container.innerHTML = html + '</tbody></table>';
    }
    
    function copyHistoryKey(id) {
      const item = keyHistory.find(k => k.id == id);
      if (item) navigator.clipboard.writeText(item.key).then(() => alert('License key copied!'));
    }
    
    function deleteKey(id) {
      if (confirm('Delete this license from history?')) { keyHistory = keyHistory.filter(k => k.id != id); saveHistory(); updateHistory(); }
    }
    
    function clearHistory() {
      if (confirm('Clear ALL history? This cannot be undone.')) { keyHistory = []; saveHistory(); updateHistory(); }
    }
    
    function exportHistory() {
      if (keyHistory.length === 0) { alert('No history to export'); return; }
      const data = { exportedAt: new Date().toISOString(), totalLicenses: keyHistory.length, licenses: keyHistory };
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
      a.download = `qanuni-licenses-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
    }
    
    function importHistory(event) {
      const file = event.target.files[0]; if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const data = JSON.parse(e.target.result);
          if (data.licenses && Array.isArray(data.licenses)) {
            if (confirm(`Import ${data.licenses.length} licenses? Will merge with existing.`)) {
              const existingKeys = new Set(keyHistory.map(k => k.key));
              const newLicenses = data.licenses.filter(l => !existingKeys.has(l.key));
              keyHistory = [...newLicenses, ...keyHistory];
              saveHistory(); updateHistory();
              alert(`Imported ${newLicenses.length} new licenses`);
            }
          } else { alert('Invalid file format'); }
        } catch(err) { alert('Error reading file: ' + err.message); }
      };
      reader.readAsText(file);
      event.target.value = '';
    }
    
    document.getElementById('licenseType').addEventListener('change', function() {
      document.getElementById('days').value = this.value === 'trial' ? 14 : 365;
    });
  </script>
</body>
</html>
